/*!
 * vuex-proxy v1.0.0
 * (c) 2021 Eyas Liu
 * @license MIT
 */"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}(function(a,b){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?b(exports,require("vuex")):"function"==typeof define&&define.amd?define(["exports","vuex"],b):(a="undefined"==typeof globalThis?a||self:globalThis,b(a.VuexProxy={},a.Vuex))})(void 0,function(a,b){'use strict';function c(a){return a&&"object"===_typeof(a)&&"default"in a?a:{default:a}}function d(a,b,c){var d=function(b,e){Object.keys(e._children).forEach(function(f){if(!(b[f]instanceof j)){var g=e._children[f],h=new j(b.$path+"/"+f,c,a.$root);if(b[f])throw new Error("module key has duplicate key ["+f+"]");Object.defineProperty(b,f,{enumerable:!0,configurable:!0,get:function(){return h},set:function(){throw new Error("[vuexp] cannot set module state")}}),d(h,g)}})};d(a,b);(function proxyState(a,b){Object.keys(b.state).forEach(function(b){if(a[b]instanceof j);else Object.defineProperty(a,b,{enumerable:!0,configurable:!0,get:function(){return a.$state[b]},set:function(c){a.$store._withCommit(function(){a.$state[b]=c}),a.$store._subscribers.forEach(function(b){return b({type:"VUEXP_CHANGE_STATE",payload:c},a.$state)})}})})})(a,b);(function proxyGetters(a,b){var d=b._rawModule.getters||{};Object.keys(d).forEach(function(d){var e=d.split("/"),f=e.length-1;e.reduce(function(a,e,g){return g<f?a[e]:void(g==f&&"undefined"==typeof a[e]&&Object.defineProperty(a,e,{enumerable:!0,configurable:!0,get:function(){return c.getters[b.namespaced?(a.$path+"/"+d).replace("root/",""):d]},set:function(){throw new Error("getters can not set value")}}))},a)})})(a,b);(function proxyAction(a,b){Object.keys(b._rawModule.actions||{}).forEach(function(c){if(a[c]);else a[c]=function(){for(var d,e=[],f=arguments.length;f--;)e[f]=arguments[f];return(d=b._rawModule.actions[c]).call.apply(d,[a].concat(e))}})})(a,b);(function proxyMutation(a,b){Object.keys(b._rawModule.mutations||{}).forEach(function(c){if(a[c]);else a[c]=function(){for(var d,e=[],f=arguments.length;f--;)e[f]=arguments[f];return(d=b._rawModule.mutations[c]).call.apply(d,[a].concat(e))}})})(a,b);var e=c._watcherVM||c._vm;e.$s||(e.$s=a.$root);(function addWatch(b,c){var d=c.watch||c._rawModule&&c._rawModule.watch||{};Object.keys(d).forEach(function(c){var f=d[c].bind(a.$root);e.$watch((b.$path.replace("root","$s")+"/"+c).replace(/\//,"."),function(a,b){f(a,b)})})})(a,b)}function e(a){var b=a.$options;b.store&&(b.store=m(b.store),a.$s=b.store,a.$store=a.$s.$store),b.parent&&b.parent.$s&&(a.$s=b.parent.$s,a.$store=a.$s.$store)}function f(a){var b=a.$options.$s;if(b){var c=g(a,b),d=c.computed,e=c.methods;d.length&&(a.$options.computed=d.reduce(function(a,b){var c=b.key,d=b.get,e=b.set;return a[c]=e?{get:d,set:e}:d,a},a.$options.computed||{})),e.length&&(a.$options.methods=e.reduce(function(a,b){var c=b.key,d=b.func;return a[c]=d,a},a.$options.methods||{}))}}function g(a,b){var c=function(a){var b=[];if(Array.isArray(a))return a.forEach(function(a){var d={key:a,val:a};switch(_typeof(a)){case"string":b.push(d);break;case"function":if(!a.name)throw new Error("[vuexp]$s required function name");d.key=a.name,b.push(d);break;case"array":case"object":b.push.apply(b,c(a));break;default:b.push(d);}}),b;if(a&&"object"===_typeof(a)){if(a.get||a.set)return[{key:"",val:a}];for(var d=function(){var a=f[e],d=a[0],g=a[1],h={key:d,val:g};switch(_typeof(g)){case"string":b.push(h);break;case"function":if(!g.name)throw new Error("[vuexp]$s required function name");h.key=g.name,b.push(h);break;case"array":case"object":b.push.apply(b,c(g).map(function(a){return a.key?a.parent=a.parent?d+"."+a.parent:d:a.key=d,a}));break;default:b.push(h);}},e=0,f=Object.entries(a);e<f.length;e+=1)d()}else b.push({key:a,val:a});return b};"function"==typeof b&&(b=b.apply(a,[a.$s]));for(var d=c(b),e=[],f=[],g=function(){var b=j[h],c=b.key,d=b.val,g=b.parent,i=g?g+".":"";switch(_typeof(d)){case"string":i+=d;break;case"object":"string"==typeof d.get&&(i+=d.get);}i=i.replace(/\//,".");var k=n(a.$s,i),l={key:c};if("function"==typeof k){switch(_typeof(d)){case"string":l.func=function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];return n(a.$s,i).apply(a.$s,b)};break;case"function":l.func=d.bind(a);break;default:l.func=function(){return d};}f.push(l)}else{if("string"==typeof d)l.get=function(){return n(a.$s,i)},l.set=function(b){return o(a.$s,i,b)};else if(d&&"object"===_typeof(d)){switch(_typeof(d.get)){case"string":l.get=function(){return n(a.$s,i)};break;case"function":l.get=d.get.bind(a);break;default:l.get=d.get?function(){return d.get}:void 0;}switch(_typeof(d.set)){case"string":l.set=function(b){return o(a.$s,i,b)};break;case"function":l.set=d.set.bind(a);break;default:l.set=d.set?function(b){return o(a.$s,i,b)}:void 0;}}if(!l.get&&!l.set)return;e.push(l)}},h=0,j=d;h<j.length;h+=1)g();return{computed:e,methods:f}}var h=c(b),i="/",j=function(a,b,c){this.$path=a,this.$name=this.$path.split(i).pop(),this.$store=b,this.$root=c||this,this.$_module=a.split(i).reduce(function(a,b){return a[b]||a._children[b]},b._modules),d(this,this.$_module,b),"function"==typeof this.$_module._rawModule.register&&this.$_module._rawModule.register.call(this)},k={$state:{configurable:!0}};k.$state.get=function(){return this.$path.split(i).reduce(function(a,b){return"root"===b?a:a[b]},this.$store.state)},j.prototype.registerModule=function(a,b,c){var d=this;Array.isArray(a)||(a=[a]),a.forEach(function(a){d[a]instanceof j?d.unregisterModule(a):d[a]&&(d[a]=void 0,delete d[a])}),this.$store.registerModule(a,b,c),a.forEach(function(a){d[a]=new j(d.$path+i+a,d.$store,d.$root)})},j.prototype.unregisterModule=function(a){this.$store.unregisterModule(a);var b=this[a];delete this[a],b&&"function"==typeof b.$_module._rawModule.unregister&&b.$_module._rawModule.unregister.call(b)},j.prototype.replaceState=function(a){return this.$store.replaceState(a)},j.prototype.hotUpdate=function(){for(var a,b=[],c=arguments.length;c--;)b[c]=arguments[c];(a=this.$store).hotUpdate.apply(a,b),d(this,this.$_module,this.$store)},Object.defineProperties(j.prototype,k);var l=function(a){return new j("root",a)},m=function(a){if(void 0===a&&(a={}),a instanceof j)return a;var b=a._vm&&a._modules?a:new h["default"].Store(a),c=l(b);return c},n=function(a,b,c,d){if("undefined"==typeof b)return c;for(d=0,b=b.split?b.split("."):b;a&&d<b.length;)a=a[b[d++]];return a===void 0||d<b.length?c:a},o=function(a,b,c){var d=b.split(".");if(1===d.length)return a[b]=c;var e=!1;return d.reduce(function(a,b,f){return e?c:"object"===_typeof(a)&&a?f===d.length-1?(a[b]=c,e=!0,c):a[b]:void 0},a)};Object.defineProperty(a,"createNamespacedHelpers",{enumerable:!0,get:function(){return b.createNamespacedHelpers}}),Object.defineProperty(a,"mapActions",{enumerable:!0,get:function(){return b.mapActions}}),Object.defineProperty(a,"mapGetters",{enumerable:!0,get:function(){return b.mapGetters}}),Object.defineProperty(a,"mapMutations",{enumerable:!0,get:function(){return b.mapMutations}}),Object.defineProperty(a,"mapState",{enumerable:!0,get:function(){return b.mapState}}),a["default"]={install:function(a){a.use(h["default"]),a.mixin({beforeCreate:function(){e(this),f(this)}})},Store:m},Object.defineProperty(a,"__esModule",{value:!0})});